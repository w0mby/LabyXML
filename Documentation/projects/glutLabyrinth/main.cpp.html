<HTML>
<HEAD>
<TITLE>
main.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#include</font> <font color="maroon">"Controleur.h"</font>

Controleur <font color="black">*</font> controleur;
<font color="blue">const</font> <font color="blue">int</font> hauteurEcran <font color="black">=</font> <font color="maroon">768</font>;
<font color="blue">const</font> <font color="blue">int</font> largeurEcran <font color="black">=</font> <font color="maroon">1024</font>;

<font color="blue">void</font> resize<font color="black">(</font><font color="blue">int</font> width, <font color="blue">int</font> height<font color="black">)</font><font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>resize<font color="black">(</font>width,height<font color="black">)</font>;  
<font color="black">}</font>

<font color="blue">void</font> display<font color="black">(</font><font color="blue">void</font><font color="black">)</font><font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>display<font color="black">(</font><font color="black">)</font>;
<font color="black">}</font>

<font color="blue">void</font> keyboardUp<font color="black">(</font><font color="blue">unsigned</font> <font color="blue">char</font> key, <font color="blue">int</font> x, <font color="blue">int</font> y<font color="black">)</font><font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>keyboardUp<font color="black">(</font>key,x,y<font color="black">)</font>;
<font color="black">}</font>
<font color="blue">void</font> keyboard<font color="black">(</font><font color="blue">unsigned</font> <font color="blue">char</font> key, <font color="blue">int</font> x, <font color="blue">int</font> y<font color="black">)</font><font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>keyboard<font color="black">(</font>key,x,y<font color="black">)</font>;
<font color="black">}</font>

<font color="blue">void</font> mouseMove<font color="black">(</font><font color="blue">int</font> x, <font color="blue">int</font> y<font color="black">)</font> <font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>mouseMove<font color="black">(</font>x,y<font color="black">)</font>;
<font color="black">}</font>

<font color="blue">void</font> idle<font color="black">(</font><font color="blue">void</font><font color="black">)</font><font color="black">{</font>
     controleur<font color="black">-</font><font color="black">&#62;</font>idle<font color="black">(</font><font color="black">)</font>;
<font color="black">}</font>

<font color="blue">void</font> timer<font color="black">(</font><font color="blue">int</font> value<font color="black">)</font><font color="black">{</font>
     glutTimerFunc<font color="black">(</font><font color="maroon">20</font>,timer,<font color="maroon">1</font><font color="black">)</font>;
     controleur<font color="black">-</font><font color="black">&#62;</font>timer<font color="black">(</font>value<font color="black">)</font>;
     
<font color="black">}</font>

<font color="blue">int</font> main<font color="black">(</font><font color="blue">int</font> argc, <font color="blue">char</font> <font color="black">*</font>argv<font color="black">[</font><font color="black">]</font><font color="black">)</font><font color="black">{</font>
    glutInit<font color="black">(</font><font color="black">&</font>argc, argv<font color="black">)</font>;
    glutInitWindowSize<font color="black">(</font>largeurEcran,hauteurEcran<font color="black">)</font>; 
   
    ShowCursor<font color="black">(</font><font color="blue">false</font><font color="black">)</font>;  
    
    glutInitDisplayMode<font color="black">(</font>GLUT_RGB <font color="black">|</font> GLUT_DOUBLE <font color="black">|</font> GLUT_DEPTH<font color="black">)</font>;
    glutCreateWindow<font color="black">(</font><font color="maroon">"XmLabyrinth3D"</font><font color="black">)</font>;
    glutReshapeFunc<font color="black">(</font>resize<font color="black">)</font>;
    glutDisplayFunc<font color="black">(</font>display<font color="black">)</font>;
    glutKeyboardFunc<font color="black">(</font>keyboard<font color="black">)</font>;
    glutKeyboardUpFunc<font color="black">(</font>keyboardUp<font color="black">)</font>;
    glutPassiveMotionFunc<font color="black">(</font>mouseMove<font color="black">)</font>;        
    glutIdleFunc<font color="black">(</font>idle<font color="black">)</font>;
    glutTimerFunc<font color="black">(</font><font color="maroon">20</font>,timer,<font color="maroon">1</font><font color="black">)</font>;
    
    glEnable<font color="black">(</font>GL_TEXTURE_2D<font color="black">)</font>;                            <font color="green">// Activation des textures.</font>
    glClearColor<font color="black">(</font><font color="maroon">0</font>.8f, <font color="maroon">0</font>.8f, <font color="maroon">0</font>.8f, <font color="maroon">1</font>.0f<font color="black">)</font>;               <font color="green">// le "fond" d'ecran sera tout gris.</font>
    glClearDepth<font color="black">(</font><font color="maroon">10</font>.0f<font color="black">)</font>;                                <font color="green">// Activation du Depth buffer (Z-buffer)</font>
    glEnable<font color="black">(</font>GL_DEPTH_TEST<font color="black">)</font>;                            <font color="green">// Activation du test de profondeur</font>
    glFogi<font color="black">(</font>GL_FOG_MODE, GL_EXP2<font color="black">)</font>;                       <font color="green">// Mode du brouillard</font>
    GLfloat fogColor<font color="black">[</font><font color="black">]</font><font color="black">=</font> <font color="black">{</font><font color="maroon">0</font>.8f, <font color="maroon">0</font>.8f, <font color="maroon">0</font>.8f, <font color="maroon">1</font>.0f<font color="black">}</font>;       <font color="green">// Couleur du brouillard</font>
    glFogfv<font color="black">(</font>GL_FOG_COLOR, fogColor<font color="black">)</font>;                    <font color="green">// Assigne la couleur du Brouillard.</font>
    glFogf<font color="black">(</font>GL_FOG_DENSITY, <font color="maroon">0</font>.13f<font color="black">)</font>;                      <font color="green">// Determine la densité du brouillard.</font>
    glHint<font color="black">(</font>GL_FOG_HINT, GL_NICEST<font color="black">)</font>;                     <font color="green">// Determine la qualité du brouillard.</font>
    glEnable<font color="black">(</font>GL_FOG<font color="black">)</font>;                                   <font color="green">// Activation du brouillard.   </font>
    <font color="green">//glEnable(GL_LIGHTING);</font>
    controleur <font color="black">=</font>  <font color="blue">new</font> Controleur<font color="black">(</font><font color="maroon">"monde.xml"</font>,hauteurEcran,largeurEcran<font color="black">)</font>; 
    glutFullScreen<font color="black">(</font><font color="black">)</font>;
    glutMainLoop<font color="black">(</font><font color="black">)</font>;
    ShowCursor<font color="black">(</font><font color="blue">true</font><font color="black">)</font>;
    <font color="blue">delete</font> controleur;
    <font color="blue">return</font> EXIT_SUCCESS;
<font color="black">}</font>

</PRE>
</BODY>
</HTML>
